<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%- include('./partials/header'); %>
  <title>Edit User</title>
</head>

<body>
  <header>
    <%- include('./partials/navbar'); %>
  </header>

  <%- include('./partials/flashMessage'); %>

  <div class="container mt-5">

    <div class="border rounded p-5">

        <h1 class="mb-4">Edit User</h1>

        <form method="post" action="/admin/userList/edit/<%= user._id %>">

            <div class="mb-3">
              <label for="username" class="form-label">Username:</label>
              <input type="text" class="form-control" id="username" name="username" value="<%= user.username %>" required>
            </div>
        
            <div class="mb-3">
              <label for="password" class="form-label">Password:</label>
              <input type="password" class="form-control" id="password" name="password" value="<%= user.password %>" placeholder="Leave it blank and save will remain the same Password.">
            </div>
        
            <div class="mb-3">
              <label for="phone" class="form-label">Phone:</label>
              <input type="number" class="form-control" id="phone" name="phone" value="<%= user.phone %>" required>
            </div>
        
            <div class="mb-3">
              <label for="email" class="form-label">Email:</label>
              <input type="email" class="form-control" id="email" name="email" value="<%= user.email %>" required>
            </div>
        
            <div class="mb-3">
              <label for="role" class="form-label">Role:</label>
              <select class="form-select" id="role" name="role" required>
                <option value="customerService" <%= user.role === 'customerService' ? 'selected' : '' %>>Customer Service</option>
                <option value="runner" <%= user.role === 'runner' ? 'selected' : '' %>>Runner</option>
                <option value="admin" <%= user.role === 'admin' ? 'selected' : '' %>>Admin</option>
              </select>
            </div>

            <div class="mb-3">
              <label for="country" class="form-label">Country:</label>
              <select class="form-select" id="country" name="country" required>
                <option value="Malaysia" <%= user.country === 'Malaysia' ? 'selected' : '' %>>Malaysia</option>
                <option value="Singapore" <%= user.country === 'Singapore' ? 'selected' : '' %>>Singapore</option>
              </select>
            </div>
        
            <div class="mb-3">
              <label for="status" class="form-label">Status:</label>
              <select class="form-select" id="status" name="status" required>
                <option value="pending" <%= user.status === 'pending' ? 'selected' : '' %>>Pending</option>
                <option value="active" <%= user.status === 'active' ? 'selected' : '' %>>Active</option>
                <option value="inactive" <%= user.status === 'inactive' ? 'selected' : '' %>>Inactive</option>
                <option value="blacklist" <%= user.status === 'blacklist' ? 'selected' : '' %>>Blacklist</option>
                <option value="hide" <%= user.status === 'hide' ? 'selected' : '' %>>Hide</option>
              </select>
            </div>
        
            <button type="submit" class="btn btn-primary w-100">Save Changes</button>
          </form>

          <a href="/admin/userList">
            <button class="btn btn-secondary mt-3 w-100">Back</button>
          </a>

          <!-- Hide user not delete -->
          <form class="mt-3" method="post" action="/admin/userList/edit/delete/<%= user._id %>" onsubmit="return confirm('Are you sure you want to delete this user?');">
            <button type="submit" class="btn btn-danger w-100">Delete User</button>
          </form>
          
    </div>
    
  </div>

<footer>
  <%- include('./partials/footer'); %>
</footer>

</body>
</html>